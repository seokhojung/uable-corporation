# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a **Shapespark 3D WebGL scene** - an interactive 3D virtual tour/walkthrough application. The project consists of a static web-based 3D scene that runs entirely in the browser using WebGL technology.

## Architecture

### Core Structure
- **`index.html`** - Main entry point that loads the 3D scene
- **`2022-10-07-09-33-02/`** - Scene data directory containing:
  - **`walk.min.js`** - Shapespark WebGL engine (minified)
  - **`scene.json`** - Scene geometry and object definitions
  - **`cover.json`** - Scene metadata, extensions, and interactive elements
  - **`render.json`** - Rendering settings and lighting configuration
  - **Binary assets** - `.buf` files containing mesh data, textures, normals, UV coordinates
  - **`webwalk/`** - Engine assets (CSS, fonts, images, 3D assets)

### Content Features
The scene includes interactive elements configured in `cover.json`:
- Audio triggers with 3D spatial positioning
- Video texture controls for embedded media
- Website links and external content integration
- HTML overlays and iframes
- Retro game embeds as interactive hotspots

## Development

### Server Requirements
This is a **static site** that requires proper MIME types and compression for optimal performance:

- **Local development**: Use any static file server (e.g., `python -m http.server`, Node.js `serve`, etc.)
- **Production**: Configure server with provided configuration files

### Server Configuration Files
- **`.htaccess`** - Apache server configuration
- **`.nginx.conf`** - Nginx server configuration  
- **`web.config`** - IIS server configuration
- **`applicationHost.config`** - Additional IIS configuration

These handle:
- Proper MIME types for `.buf`, `.basis`, `.webp` files
- Gzip compression for performance
- Cache control (no-cache for `index.html` and `cover.json`)

### Key Technical Details
- **Engine**: Shapespark WebGL renderer
- **Assets**: Binary geometry data in custom `.buf` format
- **Textures**: Mixed formats including WebP for optimization
- **3D Data**: Vertices, faces, normals, UV coordinates stored separately for efficiency
- **Interactive elements**: Positioned using 3D coordinates with trigger volumes

## File Modification Guidelines

### Safe to Edit
- `cover.json` - Modify interactive elements, extensions, metadata
- Server configuration files for deployment adjustments
- `index.html` - UI customizations (exercise caution with scene initialization)

### Do Not Modify
- Binary `.buf` files (geometry data)
- `walk.min.js` (core engine - minified and optimized)
- `scene.json` (3D scene structure - generated by Shapespark)
- Asset files in `webwalk/` directory

## Deployment

1. Upload all files maintaining directory structure
2. Configure web server using appropriate config file
3. Ensure proper MIME types for `.buf` and `.webp` files
4. Test WebGL compatibility and performance

The scene is designed to be self-contained and work across desktop, mobile, and VR devices without additional dependencies beyond a modern web browser with WebGL support.